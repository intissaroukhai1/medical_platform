{% extends "base.html.twig" %}

{% block title %}Administration - Dawini{% endblock %}

{% block navbar %}
<nav class="navbar">
    <div style="font-weight: 700; color: var(--primary);">ğŸ¥ DAWINI - Admin</div>
    <div style="display: flex; align-items: center; gap: 1.5rem;">
        <span>Administrateur</span>
        <button onclick="alert('DÃ©connexion')" class="nav-item">DÃ©connexion</button>
    </div>
</nav>
{% endblock %}

{% block sidebar %}
<div class="sidebar" style="width: 250px;">
    <h3 style="font-weight: 700; margin-bottom: 1.5rem;">Administration</h3>
    <a href="#" class="nav-item active" style="display: block; margin-bottom: 0.5rem;">ğŸ“Š Dashboard</a>
    <a href="#" class="nav-item" style="display: block; margin-bottom: 0.5rem;">ğŸ‘¥ Utilisateurs</a>
    <a href="#" class="nav-item" style="display: block; margin-bottom: 0.5rem;">ğŸ¥ SpÃ©cialitÃ©s</a>
    <a href="#" class="nav-item" style="display: block; margin-bottom: 0.5rem;">ğŸ’³ Abonnements</a>
    <a href="#" class="nav-item" style="display: block; margin-bottom: 0.5rem;">ğŸ“ˆ Statistiques</a>
</div>
{% endblock %}

{% block content %}
<h1 style="font-size: 2rem; font-weight: 700; margin-bottom: 2rem;">Tableau de Bord Admin</h1>

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
    <div class="card">
        <div style="color: var(--primary); font-size: 2rem;">ğŸ‘¨â€âš•ï¸</div>
        <p style="color: #6B7280; margin-top: 0.5rem;">MÃ©decins</p>
        <h3 style="font-size: 2rem; font-weight: 700;">{{ medecins | length }}</h3>
    </div>
    <div class="card">
        <div style="color: var(--secondary); font-size: 2rem;">ğŸ‘¥</div>
        <p style="color: #6B7280; margin-top: 0.5rem;">Patients</p>
        <h3 style="font-size: 2rem; font-weight: 700;">{{ patients | length }}</h3>
    </div>
    <div class="card">
        <div style="color: var(--accent); font-size: 2rem;">ğŸ“‹</div>
        <p style="color: #6B7280; margin-top: 0.5rem;">Total RDV</p>
        <h3 style="font-size: 2rem; font-weight: 700;">{{ rdv_total }}</h3>
    </div>
</div>

<div class="card">
    <h2 style="font-size: 1.5rem; font-weight: 700; margin-bottom: 1.5rem;">Gestion des MÃ©decins</h2>
    <table style="width: 100%; border-collapse: collapse;">
        <thead>
            <tr style="border-bottom: 2px solid var(--border);">
                <th style="text-align: left; padding: 1rem; font-weight: 600;">Nom</th>
                <th style="text-align: left; padding: 1rem; font-weight: 600;">SpÃ©cialitÃ©</th>
                <th style="text-align: left; padding: 1rem; font-weight: 600;">Patients</th>
                <th style="text-align: left; padding: 1rem; font-weight: 600;">Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for medecin in medecins | slice(0, 5) %}
            <tr style="border-bottom: 1px solid var(--border);">
                <td style="padding: 1rem;">{{ medecin.nom }}</td>
                <td style="padding: 1rem;">{{ medecin.specialite.nom }}</td>
                <td style="padding: 1rem;">{{ medecin.patients | length }}</td>
                <td style="padding: 1rem;">
                    <button style="color: var(--primary); background: none; border: none; cursor: pointer; font-weight: 600;">Ã‰diter</button>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
